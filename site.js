function toggle(t){var e=document.getElementById(t);return e&&("none"==e.style.display?e.style.display="block":e.style.display="none"),!0}!function(t,d){var n,e=t.jQuery||t.Cowboy||(t.Cowboy={});e.throttle=n=function(a,o,r,u){function t(){function t(){l=+new Date,r.apply(i,s)}function e(){c=d}var i=this,n=+new Date-l,s=arguments;u&&!c&&t(),c&&clearTimeout(c),u===d&&a<n?t():!0!==o&&(c=setTimeout(u?e:t,u===d?a-n:a))}var c,l=0;return"boolean"!=typeof o&&(u=r,r=o,o=d),e.guid&&(t.guid=r.guid=r.guid||e.guid++),t},e.debounce=function(t,e,i){return i===d?n(t,e,!1):n(t,i,!1!==e)}}(this),jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(t,e,i,n,s){return jQuery.easing[jQuery.easing.def](t,e,i,n,s)},easeInQuad:function(t,e,i,n,s){return n*(e/=s)*e+i},easeOutQuad:function(t,e,i,n,s){return-n*(e/=s)*(e-2)+i},easeInOutQuad:function(t,e,i,n,s){return(e/=s/2)<1?n/2*e*e+i:-n/2*(--e*(e-2)-1)+i},easeInCubic:function(t,e,i,n,s){return n*(e/=s)*e*e+i},easeOutCubic:function(t,e,i,n,s){return n*((e=e/s-1)*e*e+1)+i},easeInOutCubic:function(t,e,i,n,s){return(e/=s/2)<1?n/2*e*e*e+i:n/2*((e-=2)*e*e+2)+i},easeInQuart:function(t,e,i,n,s){return n*(e/=s)*e*e*e+i},easeOutQuart:function(t,e,i,n,s){return-n*((e=e/s-1)*e*e*e-1)+i},easeInOutQuart:function(t,e,i,n,s){return(e/=s/2)<1?n/2*e*e*e*e+i:-n/2*((e-=2)*e*e*e-2)+i},easeInQuint:function(t,e,i,n,s){return n*(e/=s)*e*e*e*e+i},easeOutQuint:function(t,e,i,n,s){return n*((e=e/s-1)*e*e*e*e+1)+i},easeInOutQuint:function(t,e,i,n,s){return(e/=s/2)<1?n/2*e*e*e*e*e+i:n/2*((e-=2)*e*e*e*e+2)+i},easeInSine:function(t,e,i,n,s){return-n*Math.cos(e/s*(Math.PI/2))+n+i},easeOutSine:function(t,e,i,n,s){return n*Math.sin(e/s*(Math.PI/2))+i},easeInOutSine:function(t,e,i,n,s){return-n/2*(Math.cos(Math.PI*e/s)-1)+i},easeInExpo:function(t,e,i,n,s){return 0==e?i:n*Math.pow(2,10*(e/s-1))+i},easeOutExpo:function(t,e,i,n,s){return e==s?i+n:n*(1-Math.pow(2,-10*e/s))+i},easeInOutExpo:function(t,e,i,n,s){return 0==e?i:e==s?i+n:(e/=s/2)<1?n/2*Math.pow(2,10*(e-1))+i:n/2*(2-Math.pow(2,-10*--e))+i},easeInCirc:function(t,e,i,n,s){return-n*(Math.sqrt(1-(e/=s)*e)-1)+i},easeOutCirc:function(t,e,i,n,s){return n*Math.sqrt(1-(e=e/s-1)*e)+i},easeInOutCirc:function(t,e,i,n,s){return(e/=s/2)<1?-n/2*(Math.sqrt(1-e*e)-1)+i:n/2*(Math.sqrt(1-(e-=2)*e)+1)+i},easeInElastic:function(t,e,i,n,s){var a=1.70158,o=0,r=n;if(0==e)return i;if(1==(e/=s))return i+n;if(o||(o=.3*s),r<Math.abs(n)){r=n;a=o/4}else a=o/(2*Math.PI)*Math.asin(n/r);return-r*Math.pow(2,10*(e-=1))*Math.sin((e*s-a)*(2*Math.PI)/o)+i},easeOutElastic:function(t,e,i,n,s){var a=1.70158,o=0,r=n;if(0==e)return i;if(1==(e/=s))return i+n;if(o||(o=.3*s),r<Math.abs(n)){r=n;a=o/4}else a=o/(2*Math.PI)*Math.asin(n/r);return r*Math.pow(2,-10*e)*Math.sin((e*s-a)*(2*Math.PI)/o)+n+i},easeInOutElastic:function(t,e,i,n,s){var a=1.70158,o=0,r=n;if(0==e)return i;if(2==(e/=s/2))return i+n;if(o||(o=s*(.3*1.5)),r<Math.abs(n)){r=n;a=o/4}else a=o/(2*Math.PI)*Math.asin(n/r);return e<1?r*Math.pow(2,10*(e-=1))*Math.sin((e*s-a)*(2*Math.PI)/o)*-.5+i:r*Math.pow(2,-10*(e-=1))*Math.sin((e*s-a)*(2*Math.PI)/o)*.5+n+i},easeInBack:function(t,e,i,n,s,a){return a==undefined&&(a=1.70158),n*(e/=s)*e*((a+1)*e-a)+i},easeOutBack:function(t,e,i,n,s,a){return a==undefined&&(a=1.70158),n*((e=e/s-1)*e*((a+1)*e+a)+1)+i},easeInOutBack:function(t,e,i,n,s,a){return a==undefined&&(a=1.70158),(e/=s/2)<1?n/2*(e*e*((1+(a*=1.525))*e-a))+i:n/2*((e-=2)*e*((1+(a*=1.525))*e+a)+2)+i},easeInBounce:function(t,e,i,n,s){return n-jQuery.easing.easeOutBounce(t,s-e,0,n,s)+i},easeOutBounce:function(t,e,i,n,s){return(e/=s)<1/2.75?n*(7.5625*e*e)+i:e<2/2.75?n*(7.5625*(e-=1.5/2.75)*e+.75)+i:e<2.5/2.75?n*(7.5625*(e-=2.25/2.75)*e+.9375)+i:n*(7.5625*(e-=2.625/2.75)*e+.984375)+i},easeInOutBounce:function(t,e,i,n,s){return e<s/2?.5*jQuery.easing.easeInBounce(t,2*e,0,n,s)+i:.5*jQuery.easing.easeOutBounce(t,2*e-s,0,n,s)+.5*n+i}}),function(b,t,n,u){"use strict";function s(t,e){this.element=t;var n={};b.each(b(this.element).data(),function(t,e){var i=function(t){return t&&t[0].toLowerCase()+t.slice(1)}(t.replace("fluidbox",""));""===i&&null===i||("false"==e?e=!1:"true"==e&&(e=!0),n[i]=e)}),this.settings=b.extend({},i,e,n),this.settings.viewportFill=Math.max(Math.min(parseFloat(this.settings.viewportFill),1),0),this.settings.stackIndex<this.settings.stackIndexDelta&&(settings.stackIndexDelta=settings.stackIndex),this._name=a,this.init()}var x=b(t),a=(b(n),"fluidbox"),i={immediateOpen:!1,loader:!1,maxWidth:0,maxHeight:0,resizeThrottle:500,stackIndex:1e3,stackIndexDelta:10,viewportFill:.95},w={},o=0;"undefined"!=typeof console&&"undefined"!==console.warn||(console={warn:function(){}}),b.isFunction(b.throttle)||console.warn("Fluidbox: The jQuery debounce/throttle plugin is not found/loaded. Even though Fluidbox works without it, the window resize event will fire extremely rapidly in browsers, resulting in significant degradation in performance upon viewport resize.");var c=function(){var t,e=n.createElement("fakeelement"),i={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in i)if(e.style[t]!==u)return i[t]}(),r={dom:function(){var t=b("<div />",{"class":"fluidbox__wrap",css:{zIndex:this.settings.stackIndex-this.settings.stackIndexDelta}});if(b(this.element).addClass("fluidbox--closed").wrapInner(t).find("img").first().css({opacity:1}).addClass("fluidbox__thumb").after('<div class="fluidbox__ghost" />'),this.settings.loader){var e=b("<div />",{"class":"fluidbox__loader",css:{zIndex:2}});b(this.element).find(".fluidbox__wrap").append(e)}},prepareFb:function(){var t=this,e=b(this.element);e.trigger("thumbloaddone.fluidbox"),r.measure.fbElements.call(this),t.bindEvents(),e.addClass("fluidbox--ready"),t.bindListeners(),e.trigger("ready.fluidbox")},measure:{viewport:function(){w.viewport={w:x.width(),h:x.height()}},fbElements:function(){var t=this,e=b(this.element),i=e.find("img").first(),n=e.find(".fluidbox__ghost"),s=e.find(".fluidbox__wrap");t.instanceData.thumb={natW:i[0].naturalWidth,natH:i[0].naturalHeight,w:i.width(),h:i.height()},n.css({width:i.width(),height:i.height(),top:i.offset().top-s.offset().top+parseInt(i.css("borderTopWidth"))+parseInt(i.css("paddingTop")),left:i.offset().left-s.offset().left+parseInt(i.css("borderLeftWidth"))+parseInt(i.css("paddingLeft"))})}},checkURL:function(t){var e=0;return/[\s+]/g.test(t)?(console.warn("Fluidbox: Fluidbox opening is halted because it has detected characters in your URL string that need to be properly encoded/escaped. Whitespace(s) have to be escaped manually. See RFC3986 documentation."),e=1):/[\"\'\(\)]/g.test(t)&&(console.warn("Fluidbox: Fluidbox opening will proceed, but it has detected characters in your URL string that need to be properly encoded/escaped. These will be escaped for you. See RFC3986 documentation."),e=0),e},formatURL:function(t){return t.replace(/"/g,"%22").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29")}};b.extend(s.prototype,{init:function(){var t=this,e=b(this.element),i=e.find("img").first();if(r.measure.viewport(),(!t.instanceData||!t.instanceData.initialized)&&e.is("a")&&1===e.children().length&&(e.children().is("img")||e.children().is("picture")&&1===e.find("img").length)&&"none"!==e.css("display")&&"none"!==e.children().css("display")&&"none"!==e.parents().css("display")){e.removeClass("fluidbox--destroyed"),t.instanceData={},t.instanceData.initialized=!0,t.instanceData.originalNode=e.html(),o+=1,t.instanceData.id=o,e.addClass("fluidbox__instance-"+o),e.addClass("fluidbox--initialized"),r.dom.call(t),e.trigger("init.fluidbox");var n=new Image;0<i.width()&&0<i.height()?r.prepareFb.call(t):(n.onload=function(){r.prepareFb.call(t)},n.onerror=function(){e.trigger("thumbloadfail.fluidbox")},n.src=i.attr("src"))}},open:function(){var t=this,e=b(this.element),i=e.find("img").first(),n=e.find(".fluidbox__ghost"),s=e.find(".fluidbox__wrap");t.instanceData.state=1,n.off(c),b(".fluidbox--opened").fluidbox("close");var a,o=b("<div />",{"class":"fluidbox__overlay",css:{zIndex:-1}});if(s.append(o),e.removeClass("fluidbox--closed").addClass("fluidbox--loading"),r.checkURL(i.attr("src")))return t.close(),!1;n.css({"background-image":"url("+r.formatURL(i.attr("src"))+")",opacity:1}),r.measure.fbElements.call(t),t.settings.immediateOpen?(e.addClass("fluidbox--opened fluidbox--loaded").find(".fluidbox__wrap").css({zIndex:t.settings.stackIndex+t.settings.stackIndexDelta}),e.trigger("openstart.fluidbox"),t.compute(),i.css({opacity:0}),b(".fluidbox__overlay").css({opacity:1}),n.one(c,function(){e.trigger("openend.fluidbox")}),(a=new Image).onload=function(){if(e.trigger("imageloaddone.fluidbox"),1===t.instanceData.state){if(t.instanceData.thumb.natW=a.naturalWidth,t.instanceData.thumb.natH=a.naturalHeight,e.removeClass("fluidbox--loading"),r.checkURL(a.src))return t.close({error:!0}),!1;n.css({"background-image":"url("+r.formatURL(a.src)+")"}),t.compute()}},a.onerror=function(){t.close({error:!0}),e.trigger("imageloadfail.fluidbox"),e.trigger("delayedloadfail.fluidbox")}):((a=new Image).onload=function(){if(e.trigger("imageloaddone.fluidbox"),e.removeClass("fluidbox--loading").addClass("fluidbox--opened fluidbox--loaded").find(".fluidbox__wrap").css({zIndex:t.settings.stackIndex+t.settings.stackIndexDelta}),e.trigger("openstart.fluidbox"),r.checkURL(a.src))return t.close({error:!0}),!1;n.css({"background-image":"url("+r.formatURL(a.src)+")"}),t.instanceData.thumb.natW=a.naturalWidth,t.instanceData.thumb.natH=a.naturalHeight,t.compute(),i.css({opacity:0}),b(".fluidbox__overlay").css({opacity:1}),n.one(c,function(){e.trigger("openend.fluidbox")})},a.onerror=function(){t.close({error:!0}),e.trigger("imageloadfail.fluidbox")}),a.src=e.attr("href")},compute:function(){var t,e,i,n=this,s=b(this.element),a=s.find("img").first(),o=s.find(".fluidbox__ghost"),r=s.find(".fluidbox__wrap"),u=n.instanceData.thumb.natW,c=n.instanceData.thumb.natH,l=n.instanceData.thumb.w,d=n.instanceData.thumb.h,f=u/c,h=w.viewport.w/w.viewport.h;0<n.settings.maxWidth?c=(u=n.settings.maxWidth)/f:0<n.settings.maxHeight&&(u=(c=n.settings.maxHeight)*f),f<h?(e=u*(d*(t=(c<w.viewport.h?c:w.viewport.h*n.settings.viewportFill)/d)/c)/l,i=t):(t=c*(l*(e=(u<w.viewport.w?u:w.viewport.w*n.settings.viewportFill)/l)/u)/d,i=e),n.settings.maxWidth&&n.settings.maxHeight&&console.warn("Fluidbox: Both maxHeight and maxWidth are specified. You can only specify one. If both are specified, only the maxWidth property will be respected. This will not generate any error, but may cause unexpected sizing behavior.");var p=x.scrollTop()-a.offset().top+d*(i-1)*.5+.5*(x.height()-d*i),g=l*(i-1)*.5+.5*(x.width()-l*i)-a.offset().left,m=parseInt(100*e)/100+","+parseInt(100*t)/100;o.css({transform:"translate("+parseInt(100*g)/100+"px,"+parseInt(100*p)/100+"px) scale("+m+")",top:a.offset().top-r.offset().top,left:a.offset().left-r.offset().left}),s.find(".fluidbox__loader").css({transform:"translate("+parseInt(100*g)/100+"px,"+parseInt(100*p)/100+"px) scale("+m+")"}),s.trigger("computeend.fluidbox")},recompute:function(){this.compute()},close:function(t){var e=this,i=b(this.element),n=i.find("img").first(),s=i.find(".fluidbox__ghost"),a=i.find(".fluidbox__wrap"),o=i.find(".fluidbox__overlay"),r=b.extend(null,{error:!1},t);if(null===e.instanceData.state||typeof e.instanceData.state==typeof u||0===e.instanceData.state)return!1;e.instanceData.state=0,i.trigger("closestart.fluidbox"),i.removeClass(function(t,e){return(e.match(/(^|\s)fluidbox--(opened|loaded|loading)+/g)||[]).join(" ")}).addClass("fluidbox--closed"),s.css({transform:"translate(0,0) scale(1,1)",top:n.offset().top-a.offset().top+parseInt(n.css("borderTopWidth"))+parseInt(n.css("paddingTop")),left:n.offset().left-a.offset().left+parseInt(n.css("borderLeftWidth"))+parseInt(n.css("paddingLeft"))}),i.find(".fluidbox__loader").css({transform:"none"}),s.one(c,function(){s.css({opacity:0}),n.css({opacity:1}),o.remove(),a.css({zIndex:e.settings.stackIndex-e.settings.stackIndexDelta}),i.trigger("closeend.fluidbox")}),r.error&&s.trigger("transitionend"),o.css({opacity:0})},bindEvents:function(){var e=this;b(this.element).on("click.fluidbox",function(t){t.preventDefault(),e.instanceData.state&&0!==e.instanceData.state?e.close():e.open()})},bindListeners:function(){var t=this,e=b(this.element),i=function(){r.measure.viewport(),r.measure.fbElements.call(t),e.hasClass("fluidbox--opened")&&t.compute()};b.isFunction(b.throttle)?x.on("resize.fluidbox"+t.instanceData.id,b.throttle(t.settings.resizeThrottle,i)):x.on("resize.fluidbox"+t.instanceData.id,i),e.on("reposition.fluidbox",function(){t.reposition()}),e.on("recompute.fluidbox, compute.fluidbox",function(){t.compute()}),e.on("destroy.fluidbox",function(){t.destroy()}),e.on("close.fluidbox",function(){t.close()})},unbind:function(){b(this.element).off("click.fluidbox reposition.fluidbox recompute.fluidbox compute.fluidbox destroy.fluidbox close.fluidbox"),x.off("resize.fluidbox"+this.instanceData.id)},reposition:function(){r.measure.fbElements.call(this)},destroy:function(){var t=this.instanceData.originalNode;this.unbind(),b.data(this.element,"plugin_"+a,null),b(this.element).removeClass(function(t,e){return(e.match(/(^|\s)fluidbox[--|__]\S+/g)||[]).join(" ")}).empty().html(t).addClass("fluidbox--destroyed").trigger("destroyed.fluidbox")},getMetadata:function(){return this.instanceData}}),b.fn[a]=function(e){var i,n=arguments;return e===u||"object"==typeof e?this.each(function(){b.data(this,"plugin_"+a)||b.data(this,"plugin_"+a,new s(this,e))}):"string"==typeof e&&"_"!==e[0]&&"init"!==e?(this.each(function(){var t=b.data(this,"plugin_"+a);t instanceof s&&"function"==typeof t[e]?i=t[e].apply(t,Array.prototype.slice.call(n,1)):console.warn('Fluidbox: The method "'+e+'" used is not defined in Fluidbox. Please make sure you are calling the correct public method.')}),i!==u?i:this):this}}(jQuery,window,document),function($){$.timer=function(func,time,autostart){return this.set=function(func,time,autostart){if(this.init=!0,"object"==typeof func){var paramList=["autostart","time"];for(var arg in paramList)func[paramList[arg]]!=undefined&&eval(paramList[arg]+" = func[paramList[arg]]");func=func.action}return"function"==typeof func&&(this.action=func),isNaN(time)||(this.intervalTime=time),autostart&&!this.isActive&&(this.isActive=!0,this.setTimer()),this},this.once=function(t){var e=this;return isNaN(t)&&(t=0),window.setTimeout(function(){e.action()},t),this},this.play=function(t){return this.isActive||(t?this.setTimer():this.setTimer(this.remaining),this.isActive=!0),this},this.pause=function(){return this.isActive&&(this.isActive=!1,this.remaining-=new Date-this.last,this.clearTimer()),this},this.stop=function(){return this.isActive=!1,this.remaining=this.intervalTime,this.clearTimer(),this},this.toggle=function(t){return this.isActive?this.pause():t?this.play(!0):this.play(),this},this.reset=function(){return this.isActive=!1,this.play(!0),this},this.clearTimer=function(){window.clearTimeout(this.timeoutObject)},this.setTimer=function(t){var e=this;"function"==typeof this.action&&(isNaN(t)&&(t=this.intervalTime),this.remaining=t,this.last=new Date,this.clearTimer(),this.timeoutObject=window.setTimeout(function(){e.go()},t))},this.go=function(){if(this.isActive)try{this.action()}finally{this.setTimer()}},this.init?new $.timer(func,time,autostart):(this.set(func,time,autostart),this)}}(jQuery);